import { T, COLS, ROWS } from './config.js';

// ── Map ─────────────────────────────────────────────────
const M = `
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
WggggggDggWFF00000FFWF0000000W
WgCggCggggW00555500W000009090W
WggggggggDW00566500W009000090W
WgDgggCggg.005BB500.000090900W
WggggggggDW00500500W000000000W
WggCgDggggW00000000W007007F0W
WWWW.WWWWWW00070000WWWWW.WWWW
W00000000000000000000000000F0W
WF00000000044444000000000000W
W000000004444E44440000000000W
W000000004444E44440000000000W
W00000000044444000000000000FW
W0F000000004440000000000B00W
W000000000004000B000000BB00W
W00000000000400000000066600W
W0070000000040000000F06A600W
W000000000004000000000666F0W
W000B0000000400000000000000W
W00BB0F00000400000000070000W
W000000000004000000F0000000W
WWWWWWWWWWWW.WWWWWWWWWWWWWWWW
`.trim().split('\n').map(row => [...row]);

export const LEGEND = {
  'W': 1, '0': 0, 'g': 3, 'D': 13, 'C': 12, '.': 8,
  '4': 4, '5': 5, '6': 6, '7': 7, '9': 9, 'A': 10,
  'B': 11, 'E': 14, 'F': 15, '2': 2,
};
export const MAP = M.map(row => row.map(ch => LEGEND[ch] ?? 0));
export const SOLID = new Set([1, 2, 6, 7, 9, 13, 14]);

// ── Torch & fireplace positions ─────────────────────────
export const TORCHES = [];
export const FIREPLACES = [];
for (let r = 0; r < ROWS; r++) {
  for (let c = 0; c < COLS; c++) {
    if (MAP[r][c] === 15) TORCHES.push({ x: c * T + T/2, y: r * T + T/2 });
    if (MAP[r][c] === 10) FIREPLACES.push({ x: c * T + T/2, y: r * T + T/2 });
  }
}
